---
title: "Widgets"
sidebar_position: 2
---

import Admonition from '@theme/Admonition';

### Widget Drawing Order

Every widget supports a **layer** index attribute in its **ui** section, higher layer values are drawn later. Except the **game widget** which is always drawn first. The default **layer** value is 0.

```toml
[ui]
layer = 1
```

## Game Widgets

Use a widget with **role = "game"** to render the game inside a screen. The game layer is always drawn first and the other widgets on top of it.

### UI Section

- **role = "game"** draws the game output into this widget region.
- **grid_size** (2D): pixel size of one tile (zoom level); if omitted, it falls back to **[viewport].grid_size**.
- **upscale** (3D): render at **(widget size ÷ upscale)** and scale back up; **1** keeps native size, higher values soften, lower values sharpen.

### Camera Section

- **type**: Rendering camera mode; **iso**, **firstp**, or **2D**.
- **azimuth_deg** (iso, optional): horizontal rotation in degrees. If omitted, camera default is used.
- **elevation_deg** (iso, optional): vertical angle in degrees. Higher values look more top-down and help seeing inside buildings. If omitted, camera default is used.
- **scale** (iso, optional): orthographic half-height (zoom). Larger values zoom out. If omitted, camera default is used.

Aliases are also accepted:

- **azimuth** (same as `azimuth_deg`)
- **elevation** (same as `elevation_deg`)
 
<Admonition type="note" title="player input controls">
This setting only affects **rendering**. It does **not** change how player input controls the camera.  
To define player camera behavior, see [set_player_camera](/docs/characters_items/server_commands/#set_player_camera).
</Admonition>

### Examples

```toml
[ui]
role = "game"
grid_size = 40
upscale = 1.5

[camera]
type = "firstp"
```

```toml
[ui]
role = "game"
grid_size = 40

[camera]
type = "iso"
azimuth_deg = 135.0
elevation_deg = 50.0
scale = 6.0
```

---

## Button Widgets

**Button widgets** define interactive UI elements that trigger **game actions**, **intents** or other logic when clicked.

Buttons are **visually styled** using the **tiles** defined by the [Apply Tile](/docs/creator/actions/#apply-tile) action.

In the HUD you can select between two icons per sector:

- The **default (normal)** state.
- The **active** state is shown when the button is clicked or when its associated action is currently active.

### UI Section

- **action** - Trigger a game action (mutually exclusive with **intent**).
- **intent** - Send an intent such as **"use"**; empty string means walking intent.
- **inventory_index** - Draw and interact with the inventory item at that slot using the intent.
- **show / hide** - Toggle specific widgets when clicked.
- **deactivate** - Turn off other buttons when clicked.
- **active** - Set this button’s state to active by default.
- **border_size** - An optional border for the button. Default size is 0 (no border).
- **border_color** - The color for the border. Default is white ("#FFFFFF").

The following attributes are valid for 3D scenes only. They enable `intent` buttons to be able to show specific mouse cursors when hovering or clicking an entity or item:
- **entity_cursor_id** - The [tile id](/docs/what_is/#tileid) for the mouse cursor when hovering above a character.
- **entity_clicked_cursor_id** - The [tile id](/docs/what_is/#tileid) for the mouse cursor when clicking a character.
- **item_cursor_id** - The [tile id](/docs/what_is/#tileid) for the mouse cursor when hovering above an item.
- **item_clicked_cursor_id** - The [tile id](/docs/what_is/#tileid) for the mouse cursor when clicking an item.

---

### Example #1

In this example, clicking the button causes the player to **move forward**.

See the list of available actions [here](/docs/reference/scripting_client#action).

```toml
[ui]
role = "button"
action = "forward"
# intent = "talk"
# inventory_index = 0
# border_size = 1
# border_color = "#888888"
```

### Example 2

This button:

- Shows the widget with the sector name of `Messages`
- Hides all widgets which starts with `Inventory`.
- Deactivate the button named `Show Inventory`.
- Sets its own state to `active`.

```toml
[ui]
role = "button"

show = ["Messages"]
hide = ["Inventory*"]

deactivate = ["Show Inventory"]

active = true
```

---

## Text Widgets

**Text widgets** display text on the screen and can include **static content** or **dynamic placeholders** for player or game data.

### UI Section

- **text**: multiline string content; placeholders like `{PLAYER.STR}`, `{PLAYER.DEX}`, `{PLAYER.FUNDS}` are replaced at runtime.
- **font**: font family name.
- **font_size**: size of the font.
- **spacing**: line spacing.
- **color**: text color.

You can customize the **font**, **size**, **line spacing**, and **color** of the text.

### Example

```toml
[ui]
role = "text"
text = """
Welcome, adventurer!

STR:  {PLAYER.STR}  DEX: {PLAYER.DEX}
GOLD: {PLAYER.FUNDS}

May the stars guide you!
"""

font = "Tiny5-Regular"
font_size = 18.0
spacing = 2.0
color = "#aaaaaa"
```

---

## Messages Widget

The **Messages widget** displays all incoming messages for the player in a scrollable list.

### UI Section

- Messages are sent using the **message** command.
- Each message can include an optional **category** to pick a display color.
- If no category is specified, messages default to color **#aaaaaa** (override with **default**).

You can define custom **colors for categories** using keys in the widget's data section.
In the example below, messages with the `"warning"` category will appear in **light red**.

By default, messages are listed **bottom-up** (most recent at the bottom).
To change this to **top-down**, set `top_down = true` in the widget’s configuration.

### Example

```toml
[ui]
role = "messages"
font = "Tiny5-Regular"
font_size = 18.0
spacing = 5
warning = "#ff8888"
default = "#ffffff"
```

### Multiple Choice

For displaying **multiple choice** messages (for example when a vendor offers his inventory), there are two more options:

```toml
[ui]
column_width = 30 # The width of the body column of the text
multiple_choice = "#ffff88" # The color for multiple choice items
```
